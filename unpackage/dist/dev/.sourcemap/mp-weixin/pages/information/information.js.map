{"version":3,"sources":["webpack:///D:/study/hbuilderx/GraduationAlbum/main.js","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?dac3","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?229b","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?1e06","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?1098","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue"],"names":["createPage","Page","data","yourDataTemp","_id","getApp","globalData","yourData","wechatId","yourSchool","studentSchool","yourDepartment","studentDepartment","yourClass","studentClass","yourID","studentID","yourName","studentName","methods","getAllInfo","_this","addStudentInfo","Promise","resolve","reject","uniCloud","callFunction","name","success","result","updateStudentInfo","getStudentInfo","console","log","studentAllInfo","submitRes","newStudentAllInfo","onShow"],"mappings":"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","file":"pages/information/information.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/information/information.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./information.vue?vue&type=template&id=261ce4a2&\"\nvar renderjs\nimport script from \"./information.vue?vue&type=script&lang=js&\"\nexport * from \"./information.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"study/hbuilderx/GraduationAlbum/pages/information/information.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=template&id=261ce4a2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tyourDataTemp: {\n\t\t\t\t_id: getApp().globalData.yourData._id,\n\t\t\t\twechatId: getApp().globalData.yourData.wechatId,\n\t\t\t\tyourSchool: getApp().globalData.yourData.studentSchool,\n\t\t\t\tyourDepartment: getApp().globalData.yourData.studentDepartment,\n\t\t\t\tyourClass: getApp().globalData.yourData.studentClass,\n\t\t\t\tyourID: getApp().globalData.yourData.studentID,\n\t\t\t\tyourName: getApp().globalData.yourData.studentName\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tgetAllInfo: async function() {\n\t\t\tlet _this = this;\n\t\t\t\n\t\t\t// if(getApp().globalData.yourData._id!=''){\n\t\t\t// \tconsole.log('已存在用户不能再注册');\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\t//用于提交信息到数据库\n\t\t\tconst addStudentInfo = function() {\n\t\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\t\tname: 'addStudentsData',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\twechatId: _this.yourDataTemp.wechatId,\n\t\t\t\t\t\t\tstudentSchool: _this.yourDataTemp.yourSchool,\n\t\t\t\t\t\t\tstudentDepartment: _this.yourDataTemp.yourDepartment,\n\t\t\t\t\t\t\tstudentClass: _this.yourDataTemp.yourClass,\n\t\t\t\t\t\t\tstudentID: _this.yourDataTemp.yourID,\n\t\t\t\t\t\t\tstudentName: _this.yourDataTemp.yourName\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess:function(result){\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tconst updateStudentInfo = function() {\n\t\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\t\tname: 'updateStudentsData',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\twechatId: _this.yourDataTemp.wechatId,\n\t\t\t\t\t\t\tstudentSchool: _this.yourDataTemp.yourSchool,\n\t\t\t\t\t\t\tstudentDepartment: _this.yourDataTemp.yourDepartment,\n\t\t\t\t\t\t\tstudentClass: _this.yourDataTemp.yourClass,\n\t\t\t\t\t\t\tstudentID: _this.yourDataTemp.yourID,\n\t\t\t\t\t\t\tstudentName: _this.yourDataTemp.yourName\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess:function(result){\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tconst getStudentInfo=function(){\n\t\t\t\treturn new Promise(function(resolve,reject){\n\t\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\t\tname:'queryStudentByWechatId',\n\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\twechatId:_this.yourDataTemp.wechatId\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess:function(result){\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\t// if(_this.studentSchool==''||\n\t\t\t// _this.yourDataTemp.yourSchool==''||\n\t\t\t// _this.yourDataTemp.yourDepartment==''||\n\t\t\t// _this.yourDataTemp.yourClass==''||\n\t\t\t// (_this.yourDataTemp.yourID==''){\n\t\t\t// \tconsole.log('信息不完整');\n\t\t\t// }else{\t\n\t\t\t// await submitInfo();\n\t\t\t// }\n\t\t\t\n\t\t\tconsole.log('你的_id=>');\n\t\t\tconsole.log(_this.yourDataTemp._id);\n\t\t\tconsole.log('你的openid=>');\n\t\t\tconsole.log(_this.yourDataTemp.wechatId);\n\t\t\t\n\t\t\tlet studentAllInfo=await getStudentInfo();\n\t\t\tconsole.log('你存在本地的信息=>');\n\t\t\tconsole.log(_this.yourDataTemp);\n\t\t\tconsole.log('第一次查询的结果=>');\n\t\t\tconsole.log(studentAllInfo.result.data);\n\t\t\t\n\t\t\tif(studentAllInfo.result.data==[]){\n\t\t\t\tconsole.log('第一次注册账号');\n\t\t\t\tlet submitRes = await addStudentInfo();\n\t\t\t\tconsole.log('增添用户返回值=>');\n\t\t\t\tconsole.log(submitRes);\n\t\t\t}else{\t\n\t\t\t\tconsole.log('修改账号');\n\t\t\t\tlet submitRes = await updateStudentInfo();\n\t\t\t\tconsole.log('修改用户返回值=>');\n\t\t\t\tconsole.log(submitRes);\n\t\t\t}\n\t\t\t\n\t\t\t\n\n\t\t\t//console.log(studentAllInfo.result.data);\n\t\t\t\n\t\t\t//将信息同步\n\t\t\tlet newStudentAllInfo=await getStudentInfo();\n\t\t\tconsole.log('第二次查询的结果=>');\n\t\t\tconsole.log(newStudentAllInfo);\n\t\t\t\n\t\t\tgetApp().globalData.yourData=newStudentAllInfo.result.data[0];\n\t\t\t\n\t\t\t//console.log(getApp().globalData.yourData);\n\t\t\t\n\t\t}\n\t},\n\tonShow: function() {\n\t\tlet _this=this;\n\t\t\n\t\tconsole.log(\"information Show\");\n\t\t\t\t\n\t\t_this.yourDataTemp.wechatId=getApp().globalData.yourData.wechatId;\n\n\t}\n}\n"],"sourceRoot":""}