{"version":3,"sources":["uni-app:///main.js","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?dac3","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?229b","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?1e06","webpack:///D:/study/hbuilderx/GraduationAlbum/pages/information/information.vue?1098","uni-app:///pages/information/information.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8G;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;;;AAG1D;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAunB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmB3oB;AACA,MADA,kBACA;AACA;AACA;AACA,6CADA;AAEA,uDAFA;AAGA,8DAHA;AAIA,sEAJA;AAKA,4DALA;AAMA,sDANA;AAOA,0DAPA,EADA;;AAUA,oBAVA;;AAYA,GAdA;AAeA;AACA;AACA,qBADA,GACA,IADA;;AAGA;AACA,8BAJA,GAIA;AACA;AACA;AACA,6CADA;AAEA;AACA,6DADA;AAEA,oEAFA;AAGA,4EAHA;AAIA,kEAJA;AAKA,4DALA;AAMA,gEANA,EAFA;;AAUA;AACA;AACA,uBAZA;;AAcA,mBAfA;AAgBA,iBArBA;;AAuBA,iCAvBA,GAuBA;AACA;AACA;AACA,gDADA;AAEA;AACA,6DADA;AAEA,oEAFA;AAGA,4EAHA;AAIA,kEAJA;AAKA,4DALA;AAMA,gEANA,EAFA;;AAUA;AACA;AACA,uBAZA;;AAcA,mBAfA;AAgBA,iBAxCA;;AA0CA,8BA1CA,GA0CA;AACA;AACA;AACA,oDADA;AAEA;AACA,6DADA,EAFA;;AAKA;AACA;AACA,uBAPA;;AASA,mBAVA;AAWA,iBAtDA;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCADA;AAEA,4BAFA;;;AAKA;AACA;AACA;AACA,yDA1EA;;AA4EA,kCA5EA,UA4EA,cA5EA;AA6EA;AACA;AACA;AACA,wDAhFA;;AAkFA,gDAlFA;AAmFA,uCAnFA;AAoFA,kCApFA,UAoFA,SApFA;AAqFA;AACA,uCAtFA;;AAwFA,oCAxFA;AAyFA,qCAzFA,UAyFA,UAzFA;AA0FA;AACA,wCA3FA;;;;;;;;AAmGA,kCAnGA,UAmGA,iBAnGA;AAoGA;AACA;;AAEA;;AAEA;AACA;AA1GA,gLADA,EAfA;;;AA8HA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;;;AAGA,GA5IA,E","file":"pages/information/information.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/information/information.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./information.vue?vue&type=template&id=261ce4a2&\"\nvar renderjs\nimport script from \"./information.vue?vue&type=script&lang=js&\"\nexport * from \"./information.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"study/hbuilderx/GraduationAlbum/pages/information/information.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=template&id=261ce4a2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./information.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view>\r\n\t\t\t<p>学校：</p>\r\n\t\t\t<input class=\"uni-input\" placeholder=\"输入\" v-model=\"yourDataTemp.yourSchool\" />\r\n\t\t\t<p>院系：</p>\r\n\t\t\t<input class=\"uni-input\" placeholder=\"输入\" v-model=\"yourDataTemp.yourDepartment\" />\r\n\t\t\t<p>班级：</p>\r\n\t\t\t<input class=\"uni-input\" placeholder=\"输入\" v-model=\"yourDataTemp.yourClass\" />\r\n\t\t\t<p>学号：</p>\r\n\t\t\t<input class=\"uni-input\" placeholder=\"输入\" v-model=\"yourDataTemp.yourID\" />\r\n\t\t\t<p>姓名：</p>\r\n\t\t\t<input class=\"uni-input\" placeholder=\"输入\" v-model=\"yourDataTemp.yourName\" />\r\n\t\t\t<button @click=\"submitAllInfo\">{{showButton}}</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tyourDataTemp: {\r\n\t\t\t\t\t_id: getApp().globalData.yourData._id,\r\n\t\t\t\t\twechatId: getApp().globalData.yourData.wechatId,\r\n\t\t\t\t\tyourSchool: getApp().globalData.yourData.studentSchool,\r\n\t\t\t\t\tyourDepartment: getApp().globalData.yourData.studentDepartment,\r\n\t\t\t\t\tyourClass: getApp().globalData.yourData.studentClass,\r\n\t\t\t\t\tyourID: getApp().globalData.yourData.studentID,\r\n\t\t\t\t\tyourName: getApp().globalData.yourData.studentName\r\n\t\t\t\t},\r\n\t\t\t\tshowButton:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsubmitAllInfo: async function() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t\r\n\t\t\t\t//用于提交信息到数据库\r\n\t\t\t\tconst addStudentInfo = function() {\r\n\t\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\tname: 'addStudentsData',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\twechatId: _this.yourDataTemp.wechatId,\r\n\t\t\t\t\t\t\t\tstudentSchool: _this.yourDataTemp.yourSchool,\r\n\t\t\t\t\t\t\t\tstudentDepartment: _this.yourDataTemp.yourDepartment,\r\n\t\t\t\t\t\t\t\tstudentClass: _this.yourDataTemp.yourClass,\r\n\t\t\t\t\t\t\t\tstudentID: _this.yourDataTemp.yourID,\r\n\t\t\t\t\t\t\t\tstudentName: _this.yourDataTemp.yourName\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\t\t\tresolve(result);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst updateStudentInfo = function() {\r\n\t\t\t\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\tname: 'updateStudentsData',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\twechatId: _this.yourDataTemp.wechatId,\r\n\t\t\t\t\t\t\t\tstudentSchool: _this.yourDataTemp.yourSchool,\r\n\t\t\t\t\t\t\t\tstudentDepartment: _this.yourDataTemp.yourDepartment,\r\n\t\t\t\t\t\t\t\tstudentClass: _this.yourDataTemp.yourClass,\r\n\t\t\t\t\t\t\t\tstudentID: _this.yourDataTemp.yourID,\r\n\t\t\t\t\t\t\t\tstudentName: _this.yourDataTemp.yourName\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\t\t\tresolve(result);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst getStudentInfo=function(){\r\n\t\t\t\t\treturn new Promise(function(resolve,reject){\r\n\t\t\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\t\t\tname:'queryStudentByWechatId',\r\n\t\t\t\t\t\t\tdata:{\r\n\t\t\t\t\t\t\t\twechatId:_this.yourDataTemp.wechatId\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess:function(result){\r\n\t\t\t\t\t\t\t\tresolve(result);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// if(_this.studentSchool==''||\r\n\t\t\t\t// _this.yourDataTemp.yourSchool==''||\r\n\t\t\t\t// _this.yourDataTemp.yourDepartment==''||\r\n\t\t\t\t// _this.yourDataTemp.yourClass==''||\r\n\t\t\t\t// (_this.yourDataTemp.yourID==''){\r\n\t\t\t\t// \tconsole.log('信息不完整');\r\n\t\t\t\t// }else{\t\r\n\t\t\t\t// await submitInfo();\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载ing...',\r\n\t\t\t\t\tmask:true\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('你的_id=>');\r\n\t\t\t\tconsole.log(_this.yourDataTemp._id);\r\n\t\t\t\tconsole.log('你的openid=>');\r\n\t\t\t\tconsole.log(_this.yourDataTemp.wechatId);\r\n\t\t\t\t\r\n\t\t\t\tlet studentAllInfo=await getStudentInfo();\r\n\t\t\t\tconsole.log('你存在本地的信息=>');\r\n\t\t\t\tconsole.log(_this.yourDataTemp);\r\n\t\t\t\tconsole.log('第一次查询的结果=>');\r\n\t\t\t\tconsole.log(studentAllInfo.result.data);\r\n\t\t\t\t\r\n\t\t\t\tif(studentAllInfo.result.data==[]){\r\n\t\t\t\t\tconsole.log('第一次注册账号');\r\n\t\t\t\t\tlet submitRes = await addStudentInfo();\r\n\t\t\t\t\tconsole.log('增添用户返回值=>');\r\n\t\t\t\t\tconsole.log(submitRes);\r\n\t\t\t\t}else{\t\r\n\t\t\t\t\tconsole.log('修改账号');\r\n\t\t\t\t\tlet submitRes = await updateStudentInfo();\r\n\t\t\t\t\tconsole.log('修改用户返回值=>');\r\n\t\t\t\t\tconsole.log(submitRes);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\t//console.log(studentAllInfo.result.data);\r\n\t\t\t\t\r\n\t\t\t\t//将信息同步\r\n\t\t\t\tlet newStudentAllInfo=await getStudentInfo();\r\n\t\t\t\tconsole.log('第二次查询的结果=>');\r\n\t\t\t\tconsole.log(newStudentAllInfo);\r\n\t\t\t\t\r\n\t\t\t\tgetApp().globalData.yourData=newStudentAllInfo.result.data[0];\r\n\t\t\t\t\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\t//console.log(getApp().globalData.yourData);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow: function() {\r\n\r\n\t\t\tlet _this=this;\r\n\t\t\t\r\n\t\t\tconsole.log(\"information Show\");\r\n\r\n\t\t\tif(_this.yourDataTemp._id==''){\r\n\t\t\t\t_this.showButton='注册信息'\r\n\t\t\t}else{\r\n\t\t\t\t_this.showButton='修改信息'\r\n\t\t\t}\r\n\t\t\t//_this.yourDataTemp.wechatId=getApp().globalData.yourData.wechatId;\r\n\t\t\t\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}